<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Edit Info</title>
    <link href='https://fonts.googleapis.com/css?family=Amita' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <link rel="stylesheet" href="/static/feed.css">



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
	 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


       
</head>

<body>
    <nav class="navbar navbar-custom navbar-expand sticky-top ">
        <div class="container-fluid">
            <a class="navbar-brand viaduct-logo" href="#">Viaduct</a>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/feed">Feed</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href='/studentcards'>Students</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " aria-current="page" href="#">Companies</a>
                </li>
            </ul>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

            </ul>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link text-dark text-decoration-underline text-white" aria-current="page" href="#">Make
                        your cards STANDOUT</a>
                </li>
            </ul>
            <ul class="navbar-nav me-10 mb-2 mb-lg-0">
                <li class="nav-item imageProfile">
                    <div class="col-xs-1">
                        <a href='/studentView'><img class="img-responsive img-border rounded-circle" src="../static/mypic.jpeg"
                                alt="Profile Picture" width="42" height="42"></a>
                    </div>

                </li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid">

        <div class="d-flex min-vh-100">
            <div class="card border-0">
                
                    <div class="card-body">
                        <div class="row">

                            <div class="col-lg-1"></div>
                        <div class="col-lg-2 border text-center">
                            <span class="ti-user"></span>
                            <span >Edit Profile</span>
                                    <a class="btn btn-block bg-dark text-light " style="margin: 12px; padding-left: 12px;" href="/addSkills">Add Skills</a>
                            <a class="btn btn-block bg-dark text-light " style="margin: 12px" href="/addProjects">Add Projects</a>
                        </div>

                        <div class="col-lg-8">
                            <div class="card">
            
                                <div class="card-title text-center fw-bolder font-italic"><h4 class="fst-italic">About</h4></div>
                                <div class="card-body">
                                    <form id="form" >
                                    <div class="form-group">
                
                                        <div class="row" style="margin-top: 1rem;">
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="name">Name</label>
                                                <input type="text" class="form-control-plaintext border" name="nm" value="{{ data[0][0] }}">
                                                <small class="fw-lighter">Please Enter Your Full Name as written on your transcript.
                                                 </small>  
                                            </div>
                    
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="uName">Roll No.</label>
                                                <input type="text" class="form-control-plaintext border" name="rn" id="rollno" value={{ data[0][2] }} disabled>
                                                <small class="fw-lighter">In case of wrong RollNumber, Please contact admin.
                                                </small>
                                            </div>
                                        </div>
            
                                        <div class="row" style="margin-top:1rem;">
                                            <div class="col-2"></div>
                                            <div class="col-7">
                                                <small class="fw-bold">Personal information</small><br>
                                                <small class="fw-lighter">Provide your personal information.
                                                </small><br><br>
                                            </div>
                                            <div class="col-2"></div>
                                        </div>
            
                                        <div class="row">
                                            <label for="intro" class="col-form-label">Introdutcion:</label>
                                            <div class="col-lg-11">
                                            <textarea class="form-control" rows="2" id="intro" name="intro"></textarea><br>
                                            </div>
                                        </div>
            
                                        <div class="row">
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="num">Phone No.</label>
                                                <input type="tel" class="form-control-plaintext border" id="num" name="phno" value={{ data[0][6] }}><br>
                                            </div>
                    
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="email">Email</label>
                                                <input type="text" class="form-control-plaintext border" id="email" name="em" value="{{ data[0][1] }}"><br>
                                            </div>
                                        </div>
            
                                        <div class="row">
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="address">Address</label>
                                                <input type="text" class="form-control-plaintext border" id="address" name="address" value="{{ data[0][7] }}"><br>
                                            </div>
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="gender">Gender</label>
                                                <input type="text" class="form-control-plaintext border" id="gender" name="gender" value={{ data[0][8] }}><br>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-2"></div>
                                            <div class="col-7">
                                                <small class="fw-bold">Educational information</small><br>
                                                <small class="fw-lighter">Provide your Educational information.
                                                </small><br><br>
                                            </div>
                                            <div class="col-2"></div>
                                        </div>
            
                                        <div class="row">
                                            <div class="col-lg-5">
                                                <label for="degree" class="col-form-label">Degree</label>
                                                <input type="text" class="form-control-plaintext border" id="degree" name="degree" value={{ data[0][4] }}><br>
                                            </div>
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5">
                                                <label for="sem" class="col-form-label">Semester</label>
                                                <input type="text" class="form-control-plaintext border" id="sem" name="sem" value={{ data[0][5] }}><br>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="batch" class="col-form-label">Batch</label>
                                                <input type="text" class="form-control-plaintext border" id="batch" name="batch" value="2019"><br>
                                            </div>
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="cgpa" class="col-form-label">CGPA</label>
                                                <input type="text" class="form-control-plaintext border" id="cgpa"  name="cgpa" value={{ data[0][3] }}><br>
                                            </div>
                                        </div>
            
                                        <div class="row">
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="pic" class="col-form-label">Upload Photo:</label>
                                                <input type="file" class="form-control-plaintext" id="pic" name="profile_pic"><br>
                                            </div>
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5" style="margin-top:1rem;">
                                                <label for="res" class="col-form-label">Resume:</label>
                                                <input type="file" class="form-control-plaintext" id="res" name="res" ><br>
                                            </div>
                                        </div>
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-5">
                                                <label for="job" class="col-form-label">Work Status:</label>
                                                <div class="row" id="jobDiv">
                                                    <div class="col-lg-1"></div>
                                                    <div class="col-lg-2">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="job" value="Job"/>
                                                            <label class="form-check-label" for="male">Job</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-1"></div>
                                                    <div class="col-lg-2">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="internship" value="Internship" />
                                                            <label class="form-check-label" for="none">Internship</label>
                                                        </div>
                                                    </div>
                                                    <label>Started at
                                                        <input type="text" name="jobPlace">
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="row">
                                            <div class="col-lg-4"></div>
                                            <div class="col-lg-4"> </div>
                                            <div class="col-lg-3" style="margin-top:1rem;">
                                                <div class="row">
                                                        <button class="btn btn-block bg-info" id="submit" type="submit">Save</button>
                                                </div>
                                            </div>
                                         </div>
                                    </form>
                                </div>
                            </div>
            
                        </div>
                        </div>

                    </div> 
            </div>
        </div>
    </div>

<script>
    $(document).ready(function(){
        // click on button submit
        $("#submit").on('click', function(){
            // send ajax
            var formdata = $("#form").serializeArray()
            console.log(formdata)
            var data = {};
            $(formdata ).each(function(index, obj){
                data[obj.name] = obj.value;
            });
            data=JSON.stringify(data)
            console.log(data)
            $.ajax({
                url: '/api/student', // url where to submit the request
                type : "POST", // type of action POST || GET
                data : data, // post data || get data
                dataType : 'json',
                contentType: "application/json; charset=utf-8",

                success : function(result) {
                    // you can see the result from the console
                    // tab of the developer tools
                    console.log(result);
                },
                error: function(xhr, resp, text) {
                    console.log(xhr, resp, text);
                }
            })

        });
    });
</script>
    <script>
        var Glob;
        Glob="";
function myFunction()
{
  var skills;
  if(Glob=="")
    {
      Glob=document.getElementById('skills').value;
    }
  else
    {
      Glob = Glob + ", " +document.getElementById('skills').value;
    }
  document.getElementById('display').innerHTML = Glob;
  document.getElementById('skills').value = "";
}
    </script>
</body>

</html>